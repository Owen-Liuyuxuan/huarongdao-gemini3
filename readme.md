# 🗡️ 三国·华容道 (San Guo Klotski)

> **“赤壁纵火，败走华容。智谋博弈，横刀立马。”**

本项目是一个基于 Web 技术构建的经典智力游戏——**华容道**。采用了古风三国主题 UI 设计，内置基于 BFS 算法的 AI 求解器，旨在展示算法与前端交互的结合。支持离线游玩，无需配置服务器。

[🚀 Github Page 直接玩！](https://owen-liuyuxuan.github.io/huarongdao-gemini3/)


-----

## 📖 游戏背景

建安十三年（公元208年），曹操于赤壁大败，率残兵败将沿华容道北撤。途中遭遇刘备军层层截杀。玩家的任务是移动棋盘上的五虎上将与士兵，帮助 **曹操**（最大的方块）从下方出口逃出生天。

## ✨ 核心亮点

  * **🎨 古风雅韵 UI**：采用羊皮纸纹理背景、篆刻风格印章及 Q 版三国人物设计，沉浸式体验。
  * **🧠 智能军师 (AI)**：
      * 内置 **广度优先搜索 (BFS)** 算法，能够计算当前局面的最优解。
      * **交互优化**：点击“锦囊妙计”时，AI **仅会选中并高亮** 建议移动的棋子及方向，把最终的操作权留给玩家，辅助学习而非代劳。
  * **⚡ 高性能**：优化的状态压缩与查重算法，支持在浏览器端瞬间完成 20,000+ 状态空间的搜索。
  * **📱 响应式动画**：基于 CSS Transition 的平滑移动效果。
  * **📦 纯静态**：零依赖，单文件（或分离结构）即可运行，支持离线。

## 📂 项目结构

```text
.
├── index.html      # 游戏入口与页面结构
├── style.css       # 视觉样式、动画与古风素材
├── script.js       # 游戏核心逻辑、AI 算法 (BFS)
├── README.md       # 项目说明文档
└── images/         # (可选) 存放本地武将图片素材
```

## 🚀 快速开始

1.  克隆或下载本项目到本地。
2.  直接双击打开 `index.html` 文件即可在浏览器中游玩。
3.  **操作方式**：
      * **鼠标/触控**：点击棋子选中，点击屏幕下方的方向键移动。
      * **键盘**：使用 `↑` `↓` `←` `→` 键直接操控。

## 🛠️ 技术与开发说明

### 1\. 核心算法 (AI Solver)

AI 求解器使用了 **BFS (广度优先搜索)** 来寻找最短路径：

  * **状态表示**：将 5x4 的棋盘压缩为一维数组或字符串进行 Hash 去重，防止死循环。
  * **搜索策略**：层层遍历所有可能的移动，一旦发现曹操到达 `(1, 3)` 位置即停止。
  * **路径回溯**：通过链表结构反向推导，找出当前局面的第一步最优解。

### 2\. 交互逻辑调整 (Notice)

在最新的版本中，为了提升用户的参与感，对 `script.js` 中的 `getAIHint()` 函数进行了特别调整：

> **修改前**：AI 计算出步骤后，自动移动棋子。
> **修改后**：AI 计算出步骤后，**仅选中该棋子并在状态栏文字提示移动方向**。玩家需要根据提示手动按下方向键完成移动。这让 AI 更像一位“军师”而非“代练”。


### 3\. 素材定制

若需替换图片，请修改 `script.js` 顶部的 `IMAGES` 常量，支持本地路径或网络 URL。建议保持曹操图片为正方形，关羽为横长方形，其余武将为竖长方形。

## 📜 许可证

本项目采用 MIT License 开源，欢迎学习与修改。
